<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="UTF-8">
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />

<title>Cadastro de Usuário</title>

<link rel="stylesheet" href="/css/bootstrap.min.css">
<link rel="stylesheet" href="/css/custom.css">

<script type="text/javascript" src="/js/jquery-3.3.1.min.js"></script>
<script type="text/javascript" src="/js/bootstrap.min.js"></script>

</head>

<body>

<script type="text/javascript">
	$(document).ready(function(){		
		$("#login").change(function(){					
			var vLogin = $("#login").val();
			$.ajax({
				url: '/usuario/validaLogin',
				type: 'POST', 
				data: {"login": vLogin},				
				success: function(data){
					if(data=="fail"){						
						alert("Este login já está sendo utilizado.");
						$("#login").val("");
					} 
				}, 
				error: function(){
					$(location).attr('href','/');	
				}
			});	
		});
	});	
</script>

	<nav class="navbar navbar-inverse navbar-fixed-top">
		<div class="container-fluid">
			<div class="navbar-header">
				<a class="navbar-brand" href="#">Vai de Bike</a>
			</div>
			<ul class="nav navbar-nav">			
				<li class="active"><a href="#"><i class="glyphicon glyphicon-home">&nbsp</i>Home</a></li>	
				<li><a th:href="@{/mapa}">Mapa</a></li>				
			</ul>
		</div>
	</nav>

	<div class="container">
		
		<h3>Cadastre-se!</h3>
		<hr>
		<br/>
		
		<form id = "formC" method="POST" th:action="@{/ciclista/cadastrar}">		
			<div>
				<fieldset>					
					<div class="form-group col-sm-12">
						<label>Nome</label>
   						<input class="form-control" id="nome" name="nome" required>
   					</div>
					
					<div class="form-group col-sm-6">
						<label>CPF</label>
   						<input class="form-control" id="CPF" name="CPF" pattern="([0-9]{2}[\.]?[0-9]{3}[\.]?[0-9]{3}[\/]?[0-9]{4}[-]?[0-9]{2})|([0-9]{3}[\.]?[0-9]{3}[\.]?[0-9]{3}[-]?[0-9]{2})" maxlength="14" type="text" required >
   					</div>
					
					<div class="form-group col-sm-6">
						<label>Celular</label>
   						<input class="form-control" type="text" id="celular" name="celular" pattern="^\([1-9]{2}\) [2-9][0-9]{3,4}\-[0-9]{4}$" maxlength="15" required >
   					</div>
					
					<div class="form-group col-sm-6">
						<label>Login</label>
   						<input class="form-control" id="login" name="login" required >
   					</div>
					
					<div class="form-group col-sm-6">
						<label>Senha</label>
   						<input class="form-control" type="password" id="senha" name="senha" pattern=".{6,}" maxlength="10" required>
   					</div>					
				</fieldset>
			</div>
			
			<br/>
			<div class="form-group col-sm-3">
				<button type="submit" name="submit" value="value" class="btn btn-primary" id="btn-salvar">Salvar</button>
			</div>
		</form>			
	</div>	
</body>

</html>